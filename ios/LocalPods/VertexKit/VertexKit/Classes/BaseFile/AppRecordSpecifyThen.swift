
//: Declare String Begin

/*: "TalkingAddrServerUrlSelectIndexKey" :*/
fileprivate let k_labContent:[UInt8] = [0x79,0x65,0x4b,0x78,0x65,0x64,0x6e,0x49,0x74,0x63,0x65,0x6c,0x65,0x53,0x6c,0x72,0x55,0x72,0x65,0x76,0x72,0x65,0x53,0x72,0x64,0x64,0x41,0x67,0x6e,0x69,0x6b,0x6c,0x61,0x54]

/*: "TalkingAppleLoginNickNameKey" :*/
fileprivate let k_serverDeleteName:String = "page equal showTalkingA"
fileprivate let k_greetTopTitle:String = "let if bar if viewppleL"
fileprivate let kPathData:String = "ckNalet data"

/*: "TalkingLoginUidCacheKey" :*/
fileprivate let k_genderValue:[Character] = ["T","a","l","k","i","n","g","L","o","g","i","n","U","i","d","C","a","c","h","e","K","e","y"]

/*: "TalkingLoginUserInfoCacheKey" :*/
fileprivate let kRequestShareName:String = "Talkstop let"
fileprivate let kPlayValue:String = "ginUstext user make data"
fileprivate let k_currentText:String = "oCacheKeyin photo skin make value"

/*: "TalkingLastLoginTypeCacheKey" :*/
fileprivate let kDoingValue:[Character] = ["T","a","l","k","i","n","g"]
fileprivate let kMediumText:String = "list height match lab toLastL"
fileprivate let k_rankText:String = "video button letTypeC"

/*: "TalkingLoginUserConfigKey" :*/
fileprivate let kWaitFromData:[Character] = ["T","a","l","k","i","n","g","L","o"]
fileprivate let kTextName:[Character] = ["g","i","n","U"]
fileprivate let kButtonData:[Character] = ["s","e","r","C","o","n","f","i","g","K","e","y"]

/*: "TalkingAppConfigKey" :*/
fileprivate let k_norLayerUserValue:[Character] = ["T","a","l","k","i","n","g","A","p","p","C","o"]
fileprivate let k_failureValue:[Character] = ["n","f"]
fileprivate let k_timeName:[Character] = ["i","g","K","e","y"]

/*: "TalkingUserTagCacheUrlKey" :*/
fileprivate let kShowValue:[Character] = ["T","a","l","k","i","n"]
fileprivate let k_globalValue:String = "gUserTcontainer block in nor"
fileprivate let k_blockData:String = "to equal make return datacheUr"

/*: "TalkingUserCookiesKey" :*/
fileprivate let kImageValue:[Character] = ["T","a","l","k","i","n","g","U","s"]
fileprivate let kAppTopViewName:String = "erCotemp name string image action"
fileprivate let kSelectValue:String = "sKeyuser voice"

/*: "TalkingHomeTabTurnOnNotificationsKey" :*/
fileprivate let k_modelName:[UInt8] = [0x38,0x45,0x50,0x4f,0x4d,0x52,0x4b,0x2c,0x53,0x51,0x49,0x38,0x45,0x46,0x38,0x59,0x56,0x52,0x33,0x52,0x32,0x53,0x58,0x4d,0x4a,0x4d,0x47,0x45,0x58,0x4d,0x53,0x52,0x57,0x2f,0x49,0x5d]

fileprivate func sumeractionCost(make num: UInt8) -> UInt8 {
    let value = Int(num) - 228
    if value < 0 {
        return UInt8(value + 256)
    } else {
        return UInt8(value)
    }
}

/*: "TalkingMessageTabTurnOnNotificationsKey" :*/
fileprivate let kTableName:[UInt8] = [0x79,0x65,0x4b,0x73,0x6e,0x6f,0x69,0x74,0x61,0x63,0x69,0x66,0x69,0x74,0x6f,0x4e,0x6e,0x4f,0x6e,0x72,0x75,0x54,0x62,0x61,0x54,0x65,0x67,0x61,0x73,0x73,0x65,0x4d,0x67,0x6e,0x69,0x6b,0x6c,0x61,0x54]

/*: "TalkingMessageTabCloseNotificationsKey" :*/
fileprivate let kResponseName:[UInt8] = [0xa4,0x91,0x9c,0x9b,0x99,0x9e,0x97,0xbd,0x95,0x83,0x83,0x91,0x97,0x95,0xa4,0x91,0x92,0xb3,0x9c,0x9f,0x83,0x95,0xbe,0x9f,0x84,0x99,0x96,0x99,0x93,0x91,0x84,0x99,0x9f,0x9e,0x83,0xbb,0x95,0x89]

private func cuttingEdge(normal num: UInt8) -> UInt8 {
    return num ^ 240
}

/*: "TalkingCallShowTag" :*/
fileprivate let kPathUserData:String = "Talkingdirection self component voice"
fileprivate let k_blockName:[Character] = ["C","a","l","l","S","h","o","w","T","a","g"]

/*: "TalkingFirstShowIntimateGuide" :*/
fileprivate let kTargetData:String = "self extensionTalkin"
fileprivate let kFrameTitle:String = "stShoself name effect self equal"
fileprivate let kTopName:String = "matclothes"

/*: "TalkingFreeTipsViewIsShow_ :*/
fileprivate let kNoActValue:[Character] = ["T","a","l","k","i","n","g","F","r","e","e","T","i","p","s","V","i"]
fileprivate let k_withData:String = "location userewIsS"

/*: "TalkingLiveTabExplainIsShow_ :*/
fileprivate let kDataValue:String = "equivalent add share frameTalkin"
fileprivate let k_arrayData:String = "make self colorTabE"
fileprivate let kFailValue:String = "true image max to countShow_"

/*: "TalkingMaleUnsubscribedAlertIsShow_ :*/
fileprivate let k_viewData:[UInt8] = [0x3b,0xe,0x3,0x4,0x6,0x1,0x8,0x22,0xe,0x3,0xa,0x3a,0x1,0x1c,0x1a,0xd,0x1c,0xc,0x1d,0x6,0xd,0xa,0xb,0x2e,0x3,0xa,0x1d,0x1b,0x26,0x1c,0x3c,0x7,0x0,0x18,0x30]

private func tableOnGift(data num: UInt8) -> UInt8 {
    return num ^ 111
}

/*: "TalkingAIIntimacyViewIsShow" :*/
fileprivate let k_imageValue:[Character] = ["T","a","l","k","i","n","g","A","I","I","n","t"]
fileprivate let kUseShareName:[Character] = ["i","m","a"]
fileprivate let kColorText:[Character] = ["c","y","V","i","e","w","I","s","S","h","o","w"]

/*: "isFirstShowAnimatCacheKey" :*/
fileprivate let k_sendData:String = "isFitask type click image"
fileprivate let kEmptyValue:String = "owAncell mode to model"
fileprivate let kEstimatedData:String = "object effect progresscheKey"

/*: "isFirstShowMatchTipsViewCacheKey" :*/
fileprivate let kFollowData:[UInt8] = [0x50,0x4a,0x7f,0x50,0x4b,0x4a,0x4d,0x6a,0x51,0x56,0x4e,0x74,0x58,0x4d,0x5a,0x51,0x6d,0x50,0x49,0x4a,0x6f,0x50,0x5c,0x4e,0x7a,0x58,0x5a,0x51,0x5c,0x72,0x5c,0x40]

private func giftSlide(make num: UInt8) -> UInt8 {
    return num ^ 57
}

/*: "isShowCleanAnimatCacheKey" :*/
fileprivate let k_tapData:[Character] = ["i","s","S","h","o","w","C","l","e","a","n","A","n","i","m","a","t","C","a","c","h","e","K","e","y"]

/*: "isConversationIntimateCacheKey" :*/
fileprivate let kPairContent:String = "isConvmodel to make blind list"
fileprivate let kModelValue:String = "nIpoint of model let"
fileprivate let k_buttonName:String = "femaletima"
fileprivate let k_playerValue:String = "title else number dataeKey"

/*: "sendAutoGreetIsTo" :*/
fileprivate let k_extraData:String = "sendAuinstance top table send"
fileprivate let kAtShareData:String = "raw new equal let texttIsTo"

/*: "SaveInviteCodeKey" :*/
fileprivate let k_sizePullValue:String = "Saveat string view moment"
fileprivate let k_managerTitle:String = "self start return float trackeCode"
fileprivate let kLabelName:[Character] = ["K","e","y"]

/*: "PrivateChatTipsTitle" :*/
fileprivate let k_ofPostHideText:String = "make selfPrivat"
fileprivate let k_norData:String = "middle manager selftTip"

/*: "/Documents/User/record/" :*/
fileprivate let kLocationTitle:[Character] = ["/","D","o","c","u","m","e","n","t","s","/","U","s","e","r"]
fileprivate let kShouldTitle:[Character] = ["/","r","e","c","o","r","d","/"]

/*: "/Documents/User/voice/" :*/
fileprivate let kUpName:[Character] = ["/","D","o","c","u"]
fileprivate let k_hiddenPhoneData:String = "cell"
fileprivate let kImagePlayValue:String = "product render addents/U"
fileprivate let k_gameValue:String = "self talk layer deadline nameice/"

/*: "MessageIntimatePhoto" :*/
fileprivate let k_failPresentText:String = "menu withMessa"
fileprivate let kWhiteName:String = "TIMA"

/*: "IntimateDict_ :*/
fileprivate let k_enableTitle:[Character] = ["I","n","t","i","m","a","t","e","D","i","c","t","_"]

/*: "MessageIntimateVideo" :*/
fileprivate let k_contentTitle:String = "Messin make load title"
fileprivate let k_styleName:String = "machange"
fileprivate let kIndicatorSucceedData:String = "make pathVideo"

/*: "MessageAskForGift" :*/
fileprivate let k_appFatalIfData:String = "view makeMessa"
fileprivate let k_kindData:String = "accept self stylegeAsk"

/*: "AskForGiftArr_ :*/
fileprivate let k_collectionNameData:String = "Askcell bottom"
fileprivate let kSearchGiftValue:[Character] = ["F","o","r","G","i","f","t","A","r","r","_"]

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  AppRecordSpecifyThen.swift
//  AbroadTalking
//
//  Created by Hemming on 2022/8/27.
//

//: import UIKit
import UIKit

//: let Defaults = UserDefaults.standard
let kLet_tableRouteValue = UserDefaults.standard

// MARK: - UserDefaults

//: public let TalkingAddrServerUrlSelectIndexKey   = "TalkingAddrServerUrlSelectIndexKey"
public let kLet_senseName = String(bytes: k_labContent.reversed(), encoding: .utf8)!
// 苹果登录只会在第一次授权时获得昵称信息，需缓存起来，防止用户终止流程再次获取不到昵称
//: public let TalkingAppleLoginNickNameKey             = "TalkingAppleLoginNickNameKey"
public let kLet_tabTitle = (String(k_serverDeleteName.suffix(8)) + String(k_greetTopTitle.suffix(5)) + "oginNi" + String(kPathData.prefix(4)) + "meKey")

//: public let TalkingLoginUidCacheKey                  = "TalkingLoginUidCacheKey"                  // uid缓存
public let kLet_sessionData = (String(k_genderValue)) // uid缓存
//: public let TalkingLoginUserInfoCacheKey             = "TalkingLoginUserInfoCacheKey"             // 用户信息缓存
public let kLet_lineName = (String(kRequestShareName.prefix(4)) + "ingLo" + String(kPlayValue.prefix(5)) + "erInf" + String(k_currentText.prefix(9))) // 用户信息缓存
//: public let TalkingLastLoginTypeCacheKey             = "TalkingLastLoginTypeCacheKey"             // 隐私协议弹窗是否已展示
public let kLet_giftValue = (String(kDoingValue) + String(kMediumText.suffix(5)) + "ogin" + String(k_rankText.suffix(5)) + "acheKey") // 隐私协议弹窗是否已展示
//: public let TalkingLoginUserConfigKey                = "TalkingLoginUserConfigKey"                // 用户配置接口
public let kLet_intervalName = (String(kWaitFromData) + String(kTextName) + String(kButtonData)) // 用户配置接口
//: public let TalkingAppConfigKey                      = "TalkingAppConfigKey"                      // APP配置接口
public let kLet_tagName = (String(k_norLayerUserValue) + String(k_failureValue) + String(k_timeName)) // APP配置接口
//: public let TalkingUserTagCacheUrlKey                = "TalkingUserTagCacheUrlKey"                // 用户标签
public let kLet_viewData = (String(kShowValue) + String(k_globalValue.prefix(6)) + "agCa" + String(k_blockData.suffix(5)) + "lKey") // 用户标签
//: public let TalkingUserCookiesKey                    = "TalkingUserCookiesKey"                    // 用户cookies
public let kLet_successData = (String(kImageValue) + String(kAppTopViewName.prefix(4)) + "okie" + String(kSelectValue.prefix(4))) // 用户cookies
//: public let TalkingHomeTabTurnOnNotificationsKey     = "TalkingHomeTabTurnOnNotificationsKey"     // homeTab_提醒打开系统通知
public let kLet_netText = String(bytes: k_modelName.map{sumeractionCost(make: $0)}, encoding: .utf8)! // homeTab_提醒打开系统通知
//: public let TalkingMessageTabTurnOnNotificationsKey  = "TalkingMessageTabTurnOnNotificationsKey"  // messageTab_提醒打开系统通知
public let kLet_halfContent = String(bytes: kTableName.reversed(), encoding: .utf8)! // messageTab_提醒打开系统通知

//: public let TalkingMessageTabCloseNotificationsKey  = "TalkingMessageTabCloseNotificationsKey"  // message 提醒View关闭缓存
public let kLet_enterData = String(bytes: kResponseName.map{cuttingEdge(normal: $0)}, encoding: .utf8)! // message 提醒View关闭缓存

//: public let TalkingCallShowTag                = "TalkingCallShowTag"                // 女性接听时展示手势
public let kLet_appContent = (String(kPathUserData.prefix(7)) + String(k_blockName)) // 女性接听时展示手势

//: public let TalkingFirstShowIntimateGuide                = "TalkingFirstShowIntimateGuide"                // 消息详情首次展示亲密度动效
public let kLet_statusName = (String(kTargetData.suffix(6)) + "gFir" + String(kFrameTitle.prefix(5)) + "wInti" + kTopName.replacingOccurrences(of: "clothes", with: "e") + "Guide") // 消息详情首次展示亲密度动效

// 动态发布提示视图是否展示
//: public var TalkingFreeTipsViewIsShow: String {
public var kLet_saveMaxHeightValue: String {
    //: return "TalkingFreeTipsViewIsShow_\(String(RowReactiveCompatible.share.loginUserMode.userID))"
    return (String(kNoActValue) + String(k_withData.suffix(5)) + "how_") + "\(String(RowReactiveCompatible.share.loginUserMode.userID))"
}

// 女性直播“活跃认证说明页”是否已展示
//: public var TalkingLiveTabExplainIsShow: String {
public var kLet_showValue: String {
    //: return "TalkingLiveTabExplainIsShow_\(String(RowReactiveCompatible.share.loginUserMode.userID))"
    return (String(kDataValue.suffix(6)) + "gLive" + String(k_arrayData.suffix(4)) + "xplainIs" + String(kFailValue.suffix(5))) + "\(String(RowReactiveCompatible.share.loginUserMode.userID))"
}

/// 男性未订阅弹窗是否已展示
//: public var TalkingMaleUnsubscribedAlertIsShow: String {
public var kLet_detailName: String {
    //: return "TalkingMaleUnsubscribedAlertIsShow_\(String(RowReactiveCompatible.share.loginUserMode.userID))"
    return String(bytes: k_viewData.map{tableOnGift(data: $0)}, encoding: .utf8)! + "\(String(RowReactiveCompatible.share.loginUserMode.userID))"
}

// AI亲密度说明弹窗是否已展示
//: public let TalkingAIIntimacyViewIsShow = "TalkingAIIntimacyViewIsShow"
public let kLet_replaceMaxValue = (String(k_imageValue) + String(kUseShareName) + String(kColorText))

//: public let isFirstShowAnimatCacheKey  = "isFirstShowAnimatCacheKey"
public let kLet_buttonListValue = (String(k_sendData.prefix(4)) + "rstSh" + String(kEmptyValue.prefix(4)) + "imatCa" + String(kEstimatedData.suffix(6)))

//: public let isFirstShowMatchTipsViewCacheKey  = "isFirstShowMatchTipsViewCacheKey"
public let kLet_outputValue = String(bytes: kFollowData.map{giftSlide(make: $0)}, encoding: .utf8)!

//: public let isShowCleanAnimatCacheKey  = "isShowCleanAnimatCacheKey"
public let kLet_keyName = (String(k_tapData))

//: public let isConversationIntimateCacheKey  = "isConversationIntimateCacheKey"
public let kLet_infoContent = (String(kPairContent.prefix(6)) + "ersatio" + String(kModelValue.prefix(2)) + k_buttonName.replacingOccurrences(of: "female", with: "n") + "teCach" + String(k_playerValue.suffix(4)))

/// 一键打招呼本地存储key
//: public let TalkingSendAutoGreetIsToKey  = "sendAutoGreetIsTo"
public let kLet_maxText = (String(k_extraData.prefix(6)) + "toGree" + String(kAtShareData.suffix(5)))

/// 邀请码
//: public let SaveInviteCodeKey  = "SaveInviteCodeKey"
public let kLet_progressData = (String(k_sizePullValue.prefix(4)) + "Invit" + String(k_managerTitle.suffix(5)) + String(kLabelName))

/// 私聊底部提示语_
//: public let PrivateChatTipsTitle  = "PrivateChatTipsTitle"
public let kLet_meetingSaltValue = (String(k_ofPostHideText.suffix(6)) + "eCha" + String(k_norData.suffix(4)) + "sTitle")

/** 语音文件录制存储的路径 */
//: public let Talking_Chat_record_SandboxPath = NSHomeDirectory().appending("/Documents/User/record/")
public let kLet_tabValue = NSHomeDirectory().appending((String(kLocationTitle) + String(kShouldTitle)))
//: public let Talking_Chat_voice_SandboxPath = NSHomeDirectory().appending("/Documents/User/voice/")
public let kLet_frameData = NSHomeDirectory().appending((String(kUpName) + k_hiddenPhoneData.replacingOccurrences(of: "cell", with: "m") + String(kImagePlayValue.suffix(6)) + "ser/vo" + String(k_gameValue.suffix(4))))

//: @objcMembers public class AppRecordSpecifyThen: NSObject {
@objcMembers public class AppRecordSpecifyThen: NSObject {
    //: @objc public class func getChatRecordPath() -> String {
    @objc public class func fretObserver() -> String {
        //: return Talking_Chat_record_SandboxPath
        return kLet_tabValue
    }

    //: @objc public class func getChatVoicePath() -> String {
    @objc public class func getThemeSunna() -> String {
        //: return Talking_Chat_voice_SandboxPath
        return kLet_frameData
    }

    /// 获取私密图片本地缓存文件
    //: @objc public static func getIntimatePhotoPath() -> String {
    public static func sunna() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimatePhoto") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(k_failPresentText.suffix(5)) + "geIn" + kWhiteName.lowercased() + "tePhoto")) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = RowReactiveCompatible.share.loginUid
        let uid = RowReactiveCompatible.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(k_enableTitle)) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getIntimateVideoPath() -> String {
    public static func luckCountoPath() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimateVideo") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(k_contentTitle.prefix(4)) + "ageInti" + k_styleName.replacingOccurrences(of: "change", with: "te") + String(kIndicatorSucceedData.suffix(5)))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = RowReactiveCompatible.share.loginUid
        let uid = RowReactiveCompatible.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(k_enableTitle)) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getAskForGiftPath() -> String {
    public static func getIndexPath() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageAskForGift") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(k_appFatalIfData.suffix(5)) + String(k_kindData.suffix(5)) + "ForGift")) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = RowReactiveCompatible.share.loginUid
        let uid = RowReactiveCompatible.share.loginUid
        //: return cacheDict.appendingPathComponent("AskForGiftArr_\(uid)").path
        return cacheDict.appendingPathComponent((String(k_collectionNameData.prefix(3)) + String(kSearchGiftValue)) + "\(uid)").path
    }
}

//: func createMsgVoicePath() {
func createMsgVoicePath() {
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_record_SandboxPath)
    _ = FileManager.enableFolder(folderPath: kLet_tabValue)
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_voice_SandboxPath)
    _ = FileManager.enableFolder(folderPath: kLet_frameData)
}
